(this.webpackJsonpquizzical_app=this.webpackJsonpquizzical_app||[]).push([[0],{13:function(e,t,n){},15:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),s=n(8),r=n.n(s),l=(n(13),n(2)),i=n(0);function o(e){return Object(i.jsxs)("div",{className:"intro-page",children:[Object(i.jsx)("h1",{children:"Quizzical"}),Object(i.jsx)("p",{children:"Some description if needed"}),Object(i.jsx)("button",{className:"start-btn",onClick:e.start,children:"Start quiz"})]})}var u=n(7),d=n(4);function j(e){var t={backgroundColor:e.allSelected?e.correctAns===e.value?"#94D7A2":e.getAns===e.value?"#F8BCBC":"transparent":e.isSelected?"#D6DBF5":"transparent",border:e.allSelected?e.correctAns===e.value||e.getAns===e.value?"none":"":e.isSelected?"none":"",opacity:e.allSelected?e.correctAns===e.value?"":"45%":""};return Object(i.jsx)("input",{type:"button",value:e.value,onClick:e.selectOpt,style:t,disabled:e.allSelected&&"disabled"})}function b(e){var t=a.a.useState(e.option.map((function(e){return{value:e,isSelected:!1}}))),n=Object(l.a)(t,2),c=n[0],s=n[1];var r=c.map((function(t){return Object(i.jsx)(j,{value:t.value,isSelected:t.isSelected,selectOpt:function(){return n=t.value,e.userAns(e.id,n),void s((function(e){return e.map((function(e){return e.value===n?Object(d.a)(Object(d.a)({},e),{},{isSelected:!e.isSelected}):Object(d.a)(Object(d.a)({},e),{},{isSelected:!1})}))}));var n},allSelected:e.selected,getAns:e.getAns,correctAns:e.answer})}));return Object(i.jsxs)("div",{className:"question",children:[Object(i.jsx)("p",{children:e.question}),Object(i.jsx)("div",{className:"options",children:r}),Object(i.jsx)("hr",{})]})}function f(e){var t=a.a.useState(e.questions),n=Object(l.a)(t,2),c=n[0],s=(n[1],a.a.useState(Array(5).fill(null))),r=Object(l.a)(s,2),o=r[0],d=r[1],j=JSON.parse(localStorage.getItem("allSelected"));console.log("localAllSelected = "+j);var f=a.a.useState(j),h=Object(l.a)(f,2),O=h[0],S=h[1],g=a.a.useState(0),p=Object(l.a)(g,2),v=p[0],m=p[1];function x(e,t){d((function(n){return[].concat(Object(u.a)(n.slice(0,e)),[t],Object(u.a)(n.slice(e+1)))}))}var A=c.map((function(e){var t=e.incorrect_answers;t.unshift(e.correct_answer);var n=function(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),c=[e[n],e[t]];e[t]=c[0],e[n]=c[1]}return e}(t.filter((function(e,t,n){return n.indexOf(e)===t}))),a=c.indexOf(e);return Object(i.jsx)(b,{id:a,question:e.question,option:n,answer:e.correct_answer,userAns:x,selected:O,getAns:o[a]})}));return localStorage.setItem("allSelected",O),Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{className:"questions-page",children:A}),O?Object(i.jsxs)("div",{className:"result",children:[Object(i.jsxs)("h3",{children:["You scored ",v,"/",c.length," correct answers"]}),Object(i.jsx)("button",{className:"check-ans-btn",onClick:e.changeState,children:"Play again"})]}):Object(i.jsx)("div",{className:"result",children:c.length>0&&Object(i.jsx)("button",{className:"check-ans-btn",onClick:function(){if(o.length===c.length){S(!0);for(var e=0;e<c.length;e++)o[e]===c[e].correct_answer&&m((function(e){return e+1}))}else alert("Please answer all the questions!")},children:"Check answers"})})]})}n(15);var h=function(){var e=JSON.parse(localStorage.getItem("state")),t=a.a.useState([]),n=Object(l.a)(t,2),c=n[0],s=n[1],r=a.a.useState(e),u=Object(l.a)(r,2),d=u[0],j=u[1];function b(){console.log("start "+d),localStorage.setItem("allSelected",!1),null!==d&&!1!==d||localStorage.setItem("questions",JSON.stringify(c)),j((function(e){return null===e||!1===e}))}return a.a.useEffect((function(){fetch("https://opentdb.com/api.php?amount=5&category=21&difficulty=easy").then((function(e){return e.json()})).then((function(e){return s(e.results)}))}),[]),localStorage.setItem("state",d),console.log(d),Object(i.jsxs)("div",{className:"App",children:[!d&&Object(i.jsx)(o,{start:b}),d&&Object(i.jsx)(f,{state:d,changeState:b,questions:JSON.parse(localStorage.getItem("questions"))})]})},O=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,17)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),s(e),r(e)}))};r.a.render(Object(i.jsx)(a.a.StrictMode,{children:Object(i.jsx)(h,{})}),document.getElementById("root")),O()}},[[16,1,2]]]);
//# sourceMappingURL=main.5df5b0d2.chunk.js.map